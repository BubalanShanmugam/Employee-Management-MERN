/**
 * Sequelize model factory for `User` (PostgreSQL)
 * Usage: const User = require('./models/users')(sequelize, DataTypes);
 */
module.exports = (sequelize, DataTypes) => {
	const User = sequelize.define('User', {
		id: {
			type: DataTypes.UUID,
			defaultValue: DataTypes.UUIDV4,
			primaryKey: true,
		},
		name: { type: DataTypes.STRING, allowNull: false },
		email: { type: DataTypes.STRING, allowNull: false, unique: true },
		password: { type: DataTypes.STRING, allowNull: false },
		role: { type: DataTypes.ENUM('employee', 'manager'), allowNull: false, defaultValue: 'employee' },
		employeeId: { type: DataTypes.STRING, allowNull: false, unique: true },
		department: { type: DataTypes.STRING },
	}, {
		tableName: 'users',
		timestamps: true,
		underscored: true,
	});

	return User;
};
